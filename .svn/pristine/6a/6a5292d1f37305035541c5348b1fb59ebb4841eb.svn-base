<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!-- Topbar Start -->
<!-- jquery -->
<!-- <script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" crossorigin="anonymous"></script> -->

<div class="navbar-custom">
    <div class="container-fluid">
        <ul class="list-unstyled topnav-menu float-end mb-0">

            <li class="d-none d-lg-block">
                <form class="app-search">
                    <div class="app-search-box dropdown">
                        <div class="input-group">
                            <input type="search" class="form-control" placeholder="Search..." id="top-search">
                            <button class="btn input-group-text" type="submit">
                                <i class="fe-search"></i>
                            </button>
                        </div>
                        <div class="dropdown-menu dropdown-lg" id="search-dropdown">
                            <!-- item-->
                            <div class="dropdown-header noti-title">
                                <h6 class="text-overflow text-uppercase">Recent Searches</h6>
                            </div>

                            <div class="g-3 px-2 pb-2">
                                <a href="#!" class="btn btn-sm rounded-pill btn-light">profile <i class="fe-search ms-1"></i></a>
                                <a href="#!" class="btn btn-sm rounded-pill btn-light">yarn <i class="fe-search ms-1"></i></a>
                            </div>
            
                            <!-- item-->
                            <a href="javascript:void(0);" class="dropdown-item notify-item">
                                <i class="fe-home me-1"></i>
                                <span>Analytics Report</span>
                            </a>
            
                            <!-- item-->
                            <a href="javascript:void(0);" class="dropdown-item notify-item">
                                <i class="fe-aperture me-1"></i>
                                <span>How can I help you?</span>
                            </a>
                            
                            <!-- item-->
                            <a href="javascript:void(0);" class="dropdown-item notify-item">
                                <i class="fe-settings me-1"></i>
                                <span>User profile settings</span>
                            </a>

                            <!-- item-->
                            <div class="dropdown-header noti-title">
                                <h6 class="text-overflow mb-2 text-uppercase">Users</h6>
                            </div>

                            <div class="notification-list">
                                <!-- item-->
                                <a href="javascript:void(0);" class="dropdown-item notify-item">
                                    <div class="d-flex align-items-start">
                                        <img class="d-flex me-2 rounded-circle" src="${pageContext.request.contextPath }/resources/dist/assets/images/users/user-2.jpg" alt="Generic placeholder image" height="32">
                                        <div class="w-100">
                                            <h5 class="m-0 font-14">Erwin E. Brown</h5>
                                            <span class="font-12 mb-0">UI Designer</span>
                                        </div>
                                    </div>
                                </a>

                                <!-- item-->
                                <a href="javascript:void(0);" class="dropdown-item notify-item">
                                    <div class="d-flex align-items-start">
                                        <img class="d-flex me-2 rounded-circle" src="${pageContext.request.contextPath }/resources/dist/assets/images/users/user-5.jpg" alt="Generic placeholder image" height="32">
                                        <div class="w-100">
                                            <h5 class="m-0 font-14">Jacob Deo</h5>
                                            <span class="font-12 mb-0">Developer</span>
                                        </div>
                                    </div>
                                </a>
                            </div>
            
                        </div>  
                    </div>
                </form>
            </li>
    
            <li class="dropdown d-inline-block d-lg-none">
                <a class="nav-link dropdown-toggle arrow-none waves-effect waves-light" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                    <i class="fe-search noti-icon"></i>
                </a>
                <div class="dropdown-menu dropdown-lg dropdown-menu-end p-0">
                    <form class="p-3">
                        <input type="text" class="form-control" placeholder="Search ..." aria-label="Recipient's username">
                    </form>
                </div>
            </li>
    
            <li class="dropdown d-none d-lg-inline-block">
                <a class="nav-link dropdown-toggle arrow-none waves-effect waves-light" data-toggle="fullscreen" href="#">
                    <i class="fe-maximize noti-icon"></i>
                </a>
            </li>
            <li class="dropdown d-none d-lg-inline-block">
                <a class="nav-link dropdown-toggle arrow-none waves-effect waves-light" data-toggle="" href="#">
                    <button class="btn btn-primary mt-2 mt-md-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
                    üéÅWidget           
                    </button>
                </a>
            </li>
    
            <li class="dropdown d-none d-lg-inline-block topbar-dropdown">
                <a class="nav-link dropdown-toggle arrow-none waves-effect waves-light" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                    <img src="${pageContext.request.contextPath }/resources/dist/assets/images/flags/us.jpg" alt="user-image" height="16">
                </a>
                <div class="dropdown-menu dropdown-menu-end">
    
                    <!-- item-->
                    <a href="javascript:void(0);" class="dropdown-item">
                        <img src="${pageContext.request.contextPath }/resources/dist/assets/images/flags/germany.jpg" alt="user-image" class="me-1" height="12"> <span class="align-middle">German</span>
                    </a>
    
                    <!-- item-->
                    <a href="javascript:void(0);" class="dropdown-item">
                        <img src="${pageContext.request.contextPath }/resources/dist/assets/images/flags/italy.jpg" alt="user-image" class="me-1" height="12"> <span class="align-middle">Italian</span>
                    </a>
    
                    <!-- item-->
                    <a href="javascript:void(0);" class="dropdown-item">
                        <img src="${pageContext.request.contextPath }/resources/dist/assets/images/flags/spain.jpg" alt="user-image" class="me-1" height="12"> <span class="align-middle">Spanish</span>
                    </a>
    
                    <!-- item-->
                    <a href="javascript:void(0);" class="dropdown-item">
                        <img src="${pageContext.request.contextPath }/resources/dist/assets/images/flags/russia.jpg" alt="user-image" class="me-1" height="12"> <span class="align-middle">Russian</span>
                    </a>
    
                </div>
            </li>
            
            <li class="dropdown notification-list topbar-dropdown">
                <a class="nav-link dropdown-toggle waves-effect waves-light" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                    <i class="fe-bell noti-icon"></i>
                    <span class="badge bg-danger rounded-circle noti-icon-badge">5</span>
                </a>
                <div class="dropdown-menu dropdown-menu-end dropdown-lg">
    
                    <!-- item-->
                    <div class="dropdown-item noti-title">
                        <h5 class="m-0">
                            <span class="float-end">
                                <a href="" class="text-dark">
                                    <small>Clear All</small>
                                </a>
                            </span>Notification
                        </h5>
                    </div>
    
                    <div class="noti-scroll" data-simplebar>
    
                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item active">
                            <div class="notify-icon">
                                <img src="${pageContext.request.contextPath }/resources/dist/assets/images/users/user-1.jpg" class="img-fluid rounded-circle" alt="" /> </div>
                            <p class="notify-details">Cristina Pride</p>
                            <p class="text-muted mb-0 user-msg">
                                <small>Hi, How are you? What about our next meeting</small>
                            </p>
                        </a>
    
                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <div class="notify-icon bg-primary">
                                <i class="mdi mdi-comment-account-outline"></i>
                            </div>
                            <p class="notify-details">Caleb Flakelar commented on Admin
                                <small class="text-muted">1 min ago</small>
                            </p>
                        </a>
    
                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <div class="notify-icon">
                                <img src="${pageContext.request.contextPath }/resources/dist/assets/images/users/user-4.jpg" class="img-fluid rounded-circle" alt="" /> </div>
                            <p class="notify-details">Karen Robinson</p>
                            <p class="text-muted mb-0 user-msg">
                                <small>Wow ! this admin looks good and awesome design</small>
                            </p>
                        </a>
    
                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <div class="notify-icon bg-warning">
                                <i class="mdi mdi-account-plus"></i>
                            </div>
                            <p class="notify-details">New user registered.
                                <small class="text-muted">5 hours ago</small>
                            </p>
                        </a>
    
                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <div class="notify-icon bg-info">
                                <i class="mdi mdi-comment-account-outline"></i>
                            </div>
                            <p class="notify-details">Caleb Flakelar commented on Admin
                                <small class="text-muted">4 days ago</small>
                            </p>
                        </a>
    
                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <div class="notify-icon bg-secondary">
                                <i class="mdi mdi-heart"></i>
                            </div>
                            <p class="notify-details">Carlos Crouch liked
                                <b>Admin</b>
                                <small class="text-muted">13 days ago</small>
                            </p>
                        </a>
                    </div>
    
                    <!-- All-->
                    <a href="javascript:void(0);" class="dropdown-item text-center text-primary notify-item notify-all">
                        View all
                        <i class="fe-arrow-right"></i>
                    </a>
    
                </div>
            </li>
    
            <li class="dropdown notification-list topbar-dropdown">
                <a class="nav-link dropdown-toggle nav-user me-0 waves-effect waves-light" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                    <img src="${pageContext.request.contextPath }/resources/dist/assets/images/users/user-1.jpg" alt="user-image" class="rounded-circle">
                    <span class="pro-user-name ms-1">
                        Richard <i class="mdi mdi-chevron-down"></i> 
                    </span>
                </a>
                <div class="dropdown-menu dropdown-menu-end profile-dropdown ">
                    <!-- item-->
                    <div class="dropdown-header noti-title">
                        <h6 class="text-overflow m-0">Welcome !</h6>
                    </div>
    
                    <!-- item-->
                    <a href="javascript:void(0);" class="dropdown-item notify-item">
                        <i class="fe-user"></i>
                        <span>My Account</span>
                    </a>
    
                    <!-- item-->
                    <a href="javascript:void(0);" class="dropdown-item notify-item">
                        <i class="fe-settings"></i>
                        <span>Settings</span>
                    </a>
    
                    <!-- item-->
                    <a href="javascript:void(0);" class="dropdown-item notify-item">
                        <i class="fe-lock"></i>
                        <span>Lock Screen</span>
                    </a>
    
                    <div class="dropdown-divider"></div>
    
                    <!-- item-->
                    <a href="/logout" class="dropdown-item notify-item" onclick="logout_H();">
                        <i class="fe-log-out"></i>
                        <span>Logout</span>
                    </a>
    
                </div>
            </li>
    
            <li class="dropdown notification-list">
                <a href="javascript:void(0);" class="nav-link right-bar-toggle waves-effect waves-light">
                    <i class="fe-settings noti-icon"></i>
                </a>
            </li>
    
        </ul>
    
        <!-- LOGO -->
        <div class="logo-box">
            <a href="index.html" class="logo logo-dark text-center">
                <span class="logo-sm">
                    <img src="${pageContext.request.contextPath }/resources/dist/assets/images/logo-sm.png" alt="" height="22">
                    <!-- <span class="logo-lg-text-light">Codefox</span> -->
                </span>
                <span class="logo-lg">
                    <img src="${pageContext.request.contextPath }/resources/dist/assets/images/logo-dark.png" alt="" height="20">
                    <!-- <span class="logo-lg-text-light">U</span> -->
                </span>
            </a>
    
            <a href="index.html" class="logo logo-light text-center">
                <span class="logo-sm">
                    <img src="${pageContext.request.contextPath }/resources/dist/assets/images/logo-sm.png" alt="" height="22">
                </span>
                <span class="logo-lg">
                    <img src="${pageContext.request.contextPath }/resources/dist/assets/images/logo-light.png" alt="" height="20">
                </span>
            </a>
        </div>
    
        <ul class="list-unstyled topnav-menu topnav-menu-left m-0">
            <li>
                <button class="button-menu-mobile waves-effect waves-light">
                    <i class="fe-menu"></i>
                </button>
            </li>

            <li>
                <!-- Mobile menu toggle (Horizontal Layout)-->
                <a class="navbar-toggle nav-link" data-bs-toggle="collapse" data-bs-target="#topnav-menu-content">
                    <div class="lines">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </a>
                <!-- End mobile menu toggle-->
            </li>   
            
            <li class="dropdown d-none d-xl-block">
                <a class="nav-link dropdown-toggle waves-effect waves-light" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                    Create New
                    <i class="mdi mdi-chevron-down"></i> 
                </a>
                <div class="dropdown-menu">
                    <!-- item-->
                    <a href="javascript:void(0);" class="dropdown-item">
                        <i class="fe-briefcase me-1"></i>
                        <span>New Projects</span>
                    </a>
    
                    <!-- item-->
                    <a href="javascript:void(0);" class="dropdown-item">
                        <i class="fe-user me-1"></i>
                        <span>Create Users</span>
                    </a>
    
                    <!-- item-->
                    <a href="javascript:void(0);" class="dropdown-item">
                        <i class="fe-bar-chart-line- me-1"></i>
                        <span>Revenue Report</span>
                    </a>
    
                    <!-- item-->
                    <a href="javascript:void(0);" class="dropdown-item">
                        <i class="fe-settings me-1"></i>
                        <span>Settings</span>
                    </a>
    
                    <div class="dropdown-divider"></div>
    
                    <!-- item-->
                    <a href="javascript:void(0);" class="dropdown-item">
                        <i class="fe-headphones me-1"></i>
                        <span>Help & Support</span>
                    </a>
    
                </div>
            </li>
    
            <li class="dropdown dropdown-mega d-none d-xl-block">
                <a class="nav-link dropdown-toggle waves-effect waves-light" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                    Mega Menu
                    <i class="mdi mdi-chevron-down"></i> 
                </a>
                <div class="dropdown-menu dropdown-megamenu">
                    <div class="row">
                        <div class="col-sm-8">
                            
                            <div class="row">
                                <div class="col-md-4">
                                    <h5 class="text-dark mt-0">UI Components</h5>
                                    <ul class="list-unstyled megamenu-list">
                                        <li>
                                            <a href="javascript:void(0);">Widgets</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Nestable List</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Range Sliders</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Masonry Items</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Sweet Alerts</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Treeview Page</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Tour Page</a>
                                        </li>
                                    </ul>
                                </div>
    
                                <div class="col-md-4">
                                    <h5 class="text-dark mt-0">Applications</h5>
                                    <ul class="list-unstyled megamenu-list">
                                        <li>
                                            <a href="javascript:void(0);">eCommerce Pages</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">CRM Pages</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Email</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Calendar</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Team Contacts</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Task Board</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Email Templates</a>
                                        </li>
                                    </ul>
                                </div>
    
                                <div class="col-md-4">
                                    <h5 class="text-dark mt-0">Extra Pages</h5>
                                    <ul class="list-unstyled megamenu-list">
                                        <li>
                                            <a href="javascript:void(0);">Left Sidebar with User</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Menu Collapsed</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Small Left Sidebar</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">New Header Style</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Search Result</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Gallery Pages</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Maintenance & Coming Soon</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="text-center mt-3">
                                <h3 class="text-dark">Special Discount Sale!</h3>
                                <h4>Save up to 70% off.</h4>
                                <button class="btn btn-primary rounded-pill mt-3">Download Now</button>
                            </div>
                        </div>
                    </div>
    
                </div>
            </li>
        </ul>
        <div class="clearfix"></div>
    </div>
</div>
<!-- end Topbar -->

<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
    <div class="offcanvas-header">
        <h5 id="offcanvasRightLabel">My Widget</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div> <!-- end offcanvas-header-->

    <div class="offcanvas-body">
        <div class="card container-widget" id="content-widget">
            <div class="card-body">
            <h4 class="header-title">ÎÇòÎßåÏùò ÏúÑÏ†ØÏùÑ Íµ¨ÏÑ±ÌïòÏÑ∏Ïöî!</h4>
                <div class="mt-4 chartjs-chart">
                    ÎÇ¥Ïö©ÏòÅÏó≠
                </div>
            </div>
        </div>
       
        <div>
        <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#bs-example-modal-lg">Add Widget</button>
	    <button type="button" id="resetWidget" class="btn btn-danger waves-effect waves-light">Reset Widget</button>
	    <button type="button" id="renderCalendar" class="btn btn-danger waves-effect waves-light">calendar render</button>
	    <button type="button" id="renderMemo" class="btn btn-danger waves-effect waves-light">memo render</button>
        </div>
    </div> <!-- end offcanvas-body-->
</div> <!-- end offcanvas-->

<!-- ÏúÑÏ†Ø Ï∂îÍ∞Ä Î™®Îã¨ -->
<!--  Modal content for the Large example -->
<div class="modal fade" id="bs-example-modal-lg" tabindex="-1" role="dialog"
    aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myLargeModalLabel">Widget List</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- ÏúÑÏ†Ø Î¶¨Ïä§Ìä∏Îì§ Ï∂úÎ†•Ìï¥Ï£ºÍ∏∞ -->
                <div class="form-check mb-2 form-check-success">
                    <input class="form-check-input widget" type="checkbox" value="memo" id="customckeck-memo">
                    <label class="form-check-label" for="customckeck-memo">Î©îÎ™®Ïû•</label>
                </div>
                <div class="form-check mb-2 form-check-success">
                    <input class="form-check-input widget" type="checkbox" value="calendar" id="customckeck-calendar">
                    <label class="form-check-label" for="customckeck-calendar">ÎØ∏Îãà Ï∫òÎ¶∞Îçî</label>
                </div>
                <div class="form-check mb-2 form-check-success">
                    <input class="form-check-input widget" type="checkbox" value="weather" id="customckeck-weather">
                    <label class="form-check-label" for="customckeck-weather">ÎÇ†Ïî®</label>
                </div>
                <div class="form-check mb-2 form-check-success">
                    <input class="form-check-input widget" type="checkbox" value="time" id="customckeck-time">
                    <label class="form-check-label" for="customckeck-time">ÏãúÍ∞Ñ</label>
                </div>
                <div class="form-check mb-2 form-check-success">
                    <input class="form-check-input widget" type="checkbox" value="chart" id="customckeck-chart">
                    <label class="form-check-label" for="customckeck-chart">Ï∞®Ìä∏</label>
                </div>
                <div>
	                <button type="button" id="addWidget" class="btn btn-success waves-effect waves-light" data-bs-dismiss="modal" aria-label="Close">Add Widget</button>
	                <button type="button" id="" class="btn btn-danger waves-effect waves-light" data-bs-dismiss="modal" aria-label="Close">Close</button>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!-- ÎìúÎûòÍ∑∏ -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.14.0/Sortable.min.js"></script>

<!-- Include the JS for AG Grid -->
<script src="https://cdn.jsdelivr.net/npm/ag-grid-community/dist/ag-grid-community.min.noStyle.js"></script>
<!-- Include the core CSS, this is needed by the grid -->
<link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/ag-grid-community/styles/ag-grid.css"/>
<!-- Include the theme CSS, only need to import the theme you are going to use -->
<link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/ag-grid-community/styles/ag-theme-alpine.css"/>
  
<script>
console.log('${memberVO.memberId}'+  '${memberVO}');
var memberId = localStorage.getItem('id');

if (memberId == null || memberId== '') {
	localStorage.setItem('id','${memberVO.memberId}');
	localStorage.setItem('token','${memberVO.memberToken}');
	localStorage.setItem('pic','${memberVO.memberPic}');
}

function logout_H(){
	/* Î°úÍ∑∏ÏïÑÏõÉÍ≥º Î°úÏª¨Ïä§ÌÜ†Î¶¨ÏßÄ ÏÇ≠Ï†ú */
	localStorage.removeItem('id');
	localStorage.removeItem('token');
	localStorage.removeItem('pic');
	
	  
}

var btnAddWidget_K = document.querySelector("#addWidget");
var btnResetWidget_K = document.querySelector("#resetWidget");
var btnCalendar_K = document.querySelector("#renderCalendar");
var btnMemo_K = document.querySelector("#renderMemo");

btnMemo_K.addEventListener("click", () => {
	memoRender();
});

btnCalendar_K.addEventListener("click", () => {
	miniCalendar();
});

btnCalendar_K.addEventListener("click", () => {
	miniCalendar();
});

btnResetWidget_K.addEventListener("click", () => {
	let text = "";
    text += `<div class="card-body">`;
    text += `<h4 class="header-title">ÎÇòÎßåÏùò ÏúÑÏ†ØÏùÑ Íµ¨ÏÑ±ÌïòÏÑ∏Ïöî!</h4>`;
    text += `<div class="mt-4 chartjs-chart">`;
    text += `ÎÇ¥Ïö©ÏòÅÏó≠`;
    text += `</div>`;
    text += `</div>`;
    
	document.querySelector("#content-widget").innerHTML = text;
});

btnAddWidget_K.addEventListener("click", () => {
	const selectedWidget = document.querySelectorAll(".widget");
	console.log("ÏúÑÏ†ØÏÑ†ÌÉù", selectedWidget);
    let text = "";
    
	for (item of selectedWidget) {
		console.log("Ï≤¥ÌÅ¨Ïó¨Î∂Ä", item.checked);
		
		if (item.checked) {
			text += `<div class="card-body draggable">`;
			text += `<h4 class="header-title">\${item.value}</h4>`;
			text += `<div class="mt-4 chartjs-chart">`;
			
			if (item.value == "calendar") {
				text += `<div id="miniCalendar"></div>`;
				
			} else if (item.value == "memo") {
				text += `<div id="accordion" class="mb-3">`;
				text += `    <div class="card mb-1">`;
				text += `        <div class="card-header" id="headingOne">`;
				text += `            <h5 class="m-0">`;
				text += `                <a class="text-dark collapsed" data-bs-toggle="collapse" href="#collapseOne" aria-expanded="true" >`;
				text += `                    <i class="mdi mdi-help-circle me-1 text-primary"></i> `;
				text += `                    Î©îÎ™®Ïû•1Î≤à`;
				text += `                </a>`;
				text += `            </h5>`;
				text += `        </div>`;
				text += ``;
				text += `        <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-bs-parent="#accordion">`;
				text += `            <div class="card-body">`;
				text += `            Î©îÎ™®ÎÇ¥Ïö©`;
				text += `            </div>`;
				text += `        </div>`;
				text += `    </div>`;
				text += `    <div class="card mb-1">`;
				text += `        <div class="card-header" id="headingOne">`;
				text += `            <h5 class="m-0">`;
				text += `                <a class="text-dark collapsed" data-bs-toggle="collapse" href="#collapseOne" aria-expanded="true" >`;
				text += `                    <i class="mdi mdi-help-circle me-1 text-primary"></i> `;
				text += `                    Î©îÎ™®Ïû•1Î≤à`;
				text += `                </a>`;
				text += `            </h5>`;
				text += `        </div>`;
				text += ``;
				text += `        <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-bs-parent="#accordion">`;
				text += `            <div class="card-body">`;
				text += `            Î©îÎ™®ÎÇ¥Ïö©`;
				text += `            </div>`;
				text += `        </div>`;
				text += `    </div>`;
				text += `</div>`; <!-- end #accordions-->
			} else {
			    text += `<table style="height: 100px; width: 100px; background-color: black;" id="dataTable"></table>`;
				
			}
			
			text += `</div>`;
			text += `</div>`;
        
		}
	}
	
	document.querySelector("#content-widget").innerHTML = text;
	
	const container = document.querySelector(".container-widget");
	new Sortable(container, {
		group: {
	        name: "shared", //Ïù¥Í≤å Í∞ôÏùÄ Sortable Í∞ùÏ≤¥Îì§ÎÅºÎ¶¨ Ïù¥Îèô Í∞ÄÎä•
	      },
	      swapThreshold: 1,
	      animation: 150,
	      ghostClass: "blue-background-class",
	      //sort: false, Ïù¥Í±∞ falseÌïòÎ©¥ ÏõêÎûò ÏòÅÏó≠ ÎÇ¥ÏóêÏÑúÎäî ÏïàÏõÄÏßÅÏûÑ
	      onChoose: function (event) {
	        //ÌÅ¥Î¶≠Ìïú ÏïÑÏù¥ÌÖú
	        //ÏÑ†ÌÉùÌïú ÏòÅÏó≠ ÏïàÏóê ÌÖåÏù¥Î∏î Î™©Î°ù
	      },
	      filter: ".filtered",
	      onEnd: function (event) {
	        //ÎÇ¥Î†§ÎÜìÏïòÏùÑÎïå!
	      },
	});
	
	document.querySelector("#bs-example-modal-lg").classList.remove("show");
	document.querySelector("#bs-example-modal-lg").style.display = "none";
});

function miniCalendar(mode) {
	var calendarEl = document.querySelector("#miniCalendar");
	var calendar = new FullCalendar.Calendar(calendarEl, {
        //plugins: ['interaction', 'dayGridPlugin'], //Ïù¥Í±∞ÌïòÎ©¥ Ïôú Ïò§Î•úÍ∞Ä
        firstDay                  : 1,
        //height                    : "700px", // calendar ÎÜíÏù¥ ÏÑ§Ï†ï
        expandRows                : true, // ÌôîÎ©¥Ïóê ÎßûÍ≤å ÎÜíÏù¥ Ïû¨ÏÑ§Ï†ï
        slotMinTime               : "08:00", // Day Ï∫òÎ¶∞ÎçîÏóêÏÑú ÏãúÏûë ÏãúÍ∞Ñ
        slotMaxTime               : "20:00", // Day Ï∫òÎ¶∞ÎçîÏóêÏÑú Ï¢ÖÎ£å ÏãúÍ∞Ñ
        weekends                  : true,
        nowIndicator              : true,
        interaction: true,
        // Ìï¥ÎçîÏóê ÌëúÏãúÌï† Ìà¥Î∞î
        headerToolbar: {
          //left: "prev,next today",
          //center: "title",
          right: "dayGridMonth", //Ïó¨Í∏∞ÏÑú Ï†ïÎ†¨Í∏∞Ï§Ä Ï°∞Ï†ï
        },
        initialView: "dayGridMonth", // Ï¥àÍ∏∞ Î°úÎìú Îê†Îïå Î≥¥Ïù¥Îäî Ï∫òÎ¶∞Îçî ÌôîÎ©¥(Í∏∞Î≥∏ ÏÑ§Ï†ï: Îã¨)
        //initialDate: "2021-07-15", // Ï¥àÍ∏∞ ÎÇ†Ïßú ÏÑ§Ï†ï (ÏÑ§Ï†ïÌïòÏßÄ ÏïäÏúºÎ©¥ Ïò§Îäò ÎÇ†ÏßúÍ∞Ä Î≥¥Ïù∏Îã§.)
        editable                 : true, // ÏàòÏ†ï Í∞ÄÎä•?
        navLinks                 : true, // ÎÇ†ÏßúÎ•º ÏÑ†ÌÉùÌïòÎ©¥ Day Ï∫òÎ¶∞ÎçîÎÇò Week Ï∫òÎ¶∞ÎçîÎ°ú ÎßÅÌÅ¨
        selectable               : true, // Îã¨Î†• ÏùºÏûê ÎìúÎûòÍ∑∏ ÏÑ§Ï†ïÍ∞ÄÎä•
        nowIndicator             : true, // ÌòÑÏû¨ ÏãúÍ∞Ñ ÎßàÌÅ¨
        dayMaxEvents             : true, // Ïù¥Î≤§Ìä∏Í∞Ä Ïò§Î≤ÑÎêòÎ©¥ ÎÜíÏù¥ Ï†úÌïú (+ Î™á Í∞úÏãùÏúºÎ°ú ÌëúÌòÑ)
        locale                   : "ko", // ÌïúÍµ≠Ïñ¥ ÏÑ§Ï†ï
        eventMouseEnter: function(info) {
            //console.log("Ïù∏Ìè¨", info);
            //console.log("Ïù∏Ìè¨2", info.event._def.extendedProps);
              const topWorkContent = info.event._def.extendedProps.topWorkContent;
              const progress = info.event._def.extendedProps.topWorkProgress;
              tippy(info.el, {
                     allowHTML: true,
                     //ÏûëÏóÖÏûêÎ•º Í¥ÄÍ≥ÑÌÖåÏù¥Î∏îÏóêÏÑú Îî∞Î°ú ÎπºÏôÄÏïºÌï®
                 content:  "ÏûëÏóÖÎÇ¥Ïö© : " + topWorkContent + "<br> ÏßÑÌñâÎèÑ " + progress + "%",
                 theme: 'gradient',
                 delay: [0,100],
                 position:'top',
                 animation:'scale',
                 interactive:'true',
                 //followCursor: true,
              });
        },
        /////////////////////////
        eventResize: function(obj) {
              //console.log("Î¶¨ÏÇ¨Ïù¥Ï¶àÎêòÎÉê?");//ÎêúÎã§
        },
        eventClick: function(obj) {
              console.log("ÌÅ¥Î¶≠ÌñàÏñ¥");
              //console.dir(obj);
              console.log(obj.event.extendedProps);
              console.log("pk : " + obj.event.extendedProps.topWorkNo);
              const topWorkNo = obj.event.extendedProps.topWorkNo;
              
              const obj_C_K = {
                topWorkNo,
              };
              
              let topWorkVO_C_K;
              
              axios
                .post("/calendar/select", obj_C_K)
                .then((res) => {
                    console.log(res);
                    topWorkVO_C_K = res.data;
                    //console.log("ÎîîÌÖåÏùº ÎÑòÍ≤®Ï§Ñ ÎÜà: ", topWorkVO_C_K);
                    detailModalOpen(topWorkVO_C_K); //voÎ•º ÎÑòÍ≤®ÏïºÌï®
                });
              
        },
        /////////////////////////
        
        eventAdd: function (obj) {
          // Ïù¥Î≤§Ìä∏Í∞Ä Ï∂îÍ∞ÄÎêòÎ©¥ Î∞úÏÉùÌïòÎäî Ïù¥Î≤§Ìä∏
          /* console.log("Ïù¥Î≤§Ìä∏Ï∂îÍ∞Ä!");
          console.dir(obj.event._context.viewTitle);
          console.dir(obj.event._context.dateProfile); */
        },
        eventChange: function (obj) {
          // Ïù¥Î≤§Ìä∏Í∞Ä ÏàòÏ†ïÎêòÎ©¥ Î∞úÏÉùÌïòÎäî Ïù¥Î≤§Ìä∏
          //console.log("Ïù¥ÎèôÌñàÎã§", obj);
          //console.log(obj.event._def);
          //console.log("topWorkNo : " + obj.event._def.extendedProps.topWorkNo);
          //console.log(obj.event.startStr.substr(0, 16)); // ÏãúÏûëÏùº (Î∂ÑÎã®ÏúÑ ÍπåÏßÄÎßå Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞)
          //console.log(obj.event.endStr.substr(0, 16));  //Î≥ÄÍ≤ΩÎêú Ï¢ÖÎ£åÏùº(Î∂ÑÎã®ÏúÑ ÍπåÏßÄÎßå Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞) 
          
          const map = {};
          map.topWorkNo = obj.event._def.extendedProps.topWorkNo;
          map.topWorkStart = obj.event.startStr.substr(0, 16);
          map.topWorkEnd = obj.event.endStr.substr(0, 16);
          console.log("Ïù¥ÎèôÌïòÎäî ÌÉÄÍ≤ü : ", obj.event);
          console.log("Ïù¥ÎèôÌïòÎäî Îßµ : ", map);
          
          const obj2 = {};
          obj2.method = "post";
          obj2.url = "/calendar/updateMove";
          obj2.header = "json";
          obj2.sendData = JSON.stringify(map);
          
          myAsync(obj2, (result) => {
                  //$('#updateModal').modal('show');
                  //myRender();
          });
        },
        eventRemove: function (obj) {
          // Ïù¥Î≤§Ìä∏Í∞Ä ÏÇ≠Ï†úÎêòÎ©¥ Î∞úÏÉùÌïòÎäî Ïù¥Î≤§Ìä∏
          console.log(obj);
        },
        select: function (arg) {
          // Ï∫òÎ¶∞ÎçîÏóêÏÑú ÌÅ¥Î¶≠ ÌòπÏùÄ ÎìúÎûòÍ∑∏Î°ú Ïù¥Î≤§Ìä∏Î•º ÏÉùÏÑ±Ìï† Ïàò ÏûàÎã§.
          // 2. Ïó¨Í∏∞ÏÑú ÏãúÏûëÏùº, Ï¢ÖÎ£åÏùº, Ï†úÎ™©, ÌÉÄÏù¥ÌãÄ Î∞õÏïÑ ÏùºÍ∞ê Ï∂îÍ∞ÄÌïòÍ∏∞
          calendar.unselect(); //ÏÖÄÎ†âÌä∏Îêú ÏÖÄÏùÄ ÌïòÎäòÏÉâ, Ïñ∏ÏÖÄÎ†âÌïòÎ©¥ ÏÇ¨ÎùºÏßê
          
          insertModalOpen("Ï∫òÎ¶∞Îçî", arg);
        },
        // Ïù¥Î≤§Ìä∏ //1. Ïó¨Í∏∞ÏÑú Ïù¥Î≤§Ìä∏Î•º jsonÏúºÎ°ú ÎßåÎì§Ïñ¥ÏÑú ÎøåÎ¶¨Î©¥ Îê† ÎìØ.
        //Î¶¨Ïä§Ìä∏ Îç∞Ïù¥ÌÑ∞ ÎÑ£Í∏∞
        events: function(info, successCallback, failureCallback) {
            let url = "/calendar/list?proNo=" + proNo;
            
            if (mode == "personal") {
                url = `/calendar/list?proNo=\${proNo}&memberId=ÍπÄÏßÑÌò∏`;
            }
                
            console.log("url : ", url);
            
            axios
            .post(url) //ÏøºÎ¶¨Ïóê Î†àÌîÑÌä∏ Ï°∞Ïù∏ÏúºÎ°ú Ïª¨Îü¨Í∞í Í∞ÄÏ†∏Ïò§Í≤å Î≥ÄÍ≤Ω, VO ÏàòÏ†ï
            .then((res) => {
                let json = res.data;
                console.log("json", json);
                const eventList = [];
                
                for (item of json) { //Í∞úÏù∏Îã¨Î†• ÌòπÏùÄ ÌåÄÎã¨Î†•ÏúºÎ°ú ÌïÑÌÑ∞ Í±∏ Îïå Ïó¨Í∏∞ÏÑú ÏÉâÏÉÅ Ï°∞Ï†ïÌï¥ÏïºÌï®(colorÍ∞í)
                    const temp = {
                      topWorkNo: item.topWorkNo,
                      proNo: item.proNo,
                      twCategoryNo: item.twCategoryNo,
                      topWorkContent: item.topWorkContent,
                      topWorkLike: item.topWorkLike,
                      topWorkState: item.topWorkState,
                      topWorkFile: item.topWorkFile,
                      
                      title: item.topWorkTitle,
                      start: item.topWorkStart.substr(0, 10),
                      end: item.topWorkEnd.substr(0, 10),
                      color: item.twCategoryColor
                    };
                    eventList.push(temp);
                /* ÏóêÎü¨Í∞Ä ÎÇúÎã§...
                    axios
                      .post("/calendar/selectCategoryColor", temp)
                      .then((res) => {
                        console.log(res);
                        eventList.push(temp);
                      });
                 */
                }
                console.log("Ïù¥Î≤§Ìä∏Îì§", eventList);
                successCallback(eventList);
            });
        },//2. function() ÏúºÎ°ú Î∞îÍøîÏÑú Ïó¨Í∏∞ÏÑú Îç∞Ïù¥ÌÑ∞ Î°úÎî©Ìï¥Î≥¥Í∏∞
        
        eventMouseLeave: function(event) {
          
        },
        
      });
	
	calendar.render();
}

/* Î©îÎ™® */
/* Formatting function for row details - modify as you need */
function format(d) {
    // `d` is the original data object for the row
    return (
        '<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;">' +
        '<tr>' +
        '<td>Full name:</td>' +
        '<td>' +
        d.name +
        '</td>' +
        '</tr>' +
        '<tr>' +
        '<td>Extension number:</td>' +
        '<td>' +
        d.extn +
        '</td>' +
        '</tr>' +
        '<tr>' +
        '<td>Extra info:</td>' +
        '<td>And any further details here (images etc)...</td>' +
        '</tr>' +
        '</table>'
    );
}

function memoRender() {
	    $('#dataTable').DataTable({
	        order: [[0, 'desc']],
	        ordering: true,
	        serverSide: false,
	        searching: true,
	        paging: true,
	        pageLength: 2,
	        lengthChange: false,
	        info: false,
	        language: {
	            emptyTable : "ÏûëÏÑ±Ìïú Í≤åÏãúÍ∏ÄÏù¥ ÏóÜÏäµÎãàÎã§.",
	            zeroRecords : "Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§.",
	        }
	     });
};




</script>